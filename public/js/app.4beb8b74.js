(function(){var e={576:function(e,t,i){"use strict";var n=i(369),o=function(){var e=this,t=e._self._c;return t("div",[t("Login")],1)},s=[],a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("div",{staticClass:"logo"},[t("div",{staticClass:"logo-pic"},[t("img",{attrs:{src:e.logo,alt:""}})])]),t("div",{staticClass:"content"},[t("div",{staticClass:"phone"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"tel",placeholder:"请输入手机号",maxlength:"11"},domProps:{value:e.phone},on:{input:[function(t){t.target.composing||(e.phone=t.target.value)},e.changeBtn]}}),e.haveGotCode?e._e():t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isPassWordLogin,expression:"!isPassWordLogin"}],on:{click:e.getCode}},[e._v("获取验证码")]),e.haveGotCode?t("Timer"):e._e()],1),t("div",{ref:"phoneBorder",staticClass:"border"}),t("div",{staticClass:"password"},["checkbox"===e.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{placeholder:e.placeholder,maxlength:e.maxlength,type:"checkbox"},domProps:{checked:Array.isArray(e.code)?e._i(e.code,null)>-1:e.code},on:{input:e.changeBtn,change:function(t){var i=e.code,n=t.target,o=!!n.checked;if(Array.isArray(i)){var s=null,a=e._i(i,s);n.checked?a<0&&(e.code=i.concat([s])):a>-1&&(e.code=i.slice(0,a).concat(i.slice(a+1)))}else e.code=o}}}):"radio"===e.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{placeholder:e.placeholder,maxlength:e.maxlength,type:"radio"},domProps:{checked:e._q(e.code,null)},on:{input:e.changeBtn,change:function(t){e.code=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{placeholder:e.placeholder,maxlength:e.maxlength,type:e.type},domProps:{value:e.code},on:{input:[function(t){t.target.composing||(e.code=t.target.value)},e.changeBtn]}})]),t("div",{ref:"codeBorder",staticClass:"border"})]),t("div",{staticClass:"btn"},[t("button",{ref:"loginBtn",attrs:{disabled:e.disabled},on:{click:e.login}},[e._v("登录")])]),t("h2",{staticClass:"tip"},[e._v(e._s(e.rigistTip))]),t("div",{staticClass:"agree"},[t("div",{staticClass:"isagree"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",name:"",id:""},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var i=e.checked,n=t.target,o=!!n.checked;if(Array.isArray(i)){var s=null,a=e._i(i,s);n.checked?a<0&&(e.checked=i.concat([s])):a>-1&&(e.checked=i.slice(0,a).concat(i.slice(a+1)))}else e.checked=o}}})]),t("div",{staticClass:"msg"},[e._v(" 我已阅读并同意 "),t("a",{attrs:{href:""}},[e._v("《"+e._s(e.user)+"用户协议》")]),t("a",{attrs:{href:""}},[e._v("《隐私政策》")]),e._v("，并授权"+e._s(e.user)+"使用该"+e._s(e.user)+"账号信息（如昵称、头像、收货地址）进行统一管理 ")])]),t("div",{staticClass:"changeWay"},[t("button",{on:{click:e.changeLoginWay}},[e._v(e._s(e.loginTip))])])])},r=[],c=(i(887),i(141)),l=i(161),d=function(){var e=this,t=e._self._c;return t("span",[e._v("从新发送（"+e._s(e.myTime)+"）")])},h=[],u=i(17),p=i.n(u),g={data(){return{myTime:this.time}},props:{time:{type:Number,default:60}},mounted(){this.timer=setInterval((()=>{this.myTime>=0?this.myTime--:(clearInterval(this.timer),p().publish("timeout",!1))}),1e3)}},v=g,m=i(1),f=(0,m.Z)(v,d,h,!1,null,"7fdf5610",null),b=f.exports;n.ZP.use(c.Z);var y={data(){return{disabled:!0,checked:"",phone:"",code:"",isPassWordLogin:!1,loginTip:"切换密码登录",rigistTip:"未验证的手机号验证后自动创建用户",type:"number",placeholder:"请输入验证码",maxlength:"",haveGotCode:!1}},methods:{changeLoginWay(){this.isPassWordLogin=!this.isPassWordLogin,this.isPassWordLogin?(this.type="password",this.placeholder="请输入密码",this.maxlength=16):(this.type="number",this.placeholder="请输入验证码",this.maxlength=4)},changeBtn(){this.isPassWordLogin?"11"==this.phone.length&&this.code.length>=8&&this.checked?this.disabled=!1:this.disabled=!0:"11"==this.phone.length&&4==this.code.length&&this.checked?this.disabled=!1:this.code=this.code.slice(0,4)},isValidatePhone(){var e=/^1[3-9][0-9]{9}$/;return!!e.test(this.phone)},login(){if(this.isValidatePhone()){var e=this.phone,t=this.code;this.isPassWordLogin?l.Z.post("http://47.97.22.215:3000/loginbypassword",{phone:e,password:i(702).Base64.encode(t)}).then((e=>{c.Z.loading("加载中"),e.data.successLogin?(c.Z.success("登录成功"),history.back()):c.Z.fail("密码错误")})).catch((e=>{c.Z.fail("登录失败")})):l.Z.post("http://47.97.22.215:3000/login/postCode",{phone:e,code:t}).then((e=>{c.Z.loading("加载中"),e.data.successLogin?(c.Z.success("登录成功"),history.back()):c.Z.fail("验证码错误")})).catch((e=>{c.Z.fail("验证码错误")}))}else(0,c.Z)("无效手机号")},getCode(){if(this.isValidatePhone()){var e=this;l.Z.get("http://47.97.22.215:3000/login",{params:{phone:e.phone}}).then((t=>{e.haveGotCode||t.data.haveSendCode&&((0,c.Z)("验证码已发送"),e.haveGotCode=!0)})).catch((e=>{c.Z.fail("验证码获取失败")}))}}},watch:{checked(e){e&&11==this.phone.length&&this.code.length>=4?this.disabled=!1:this.disabled=!0},isPassWordLogin(e){e?(this.loginTip="切换验证码登录",this.rigistTip="",document.title="密码登录"):(this.loginTip="切换密码登录",this.rigistTip="未验证的手机号验证后自动创建用户",document.title="验证码登录")},disabled(e){e?(this.$refs.loginBtn.style.background="#FFF9E1",this.$refs.loginBtn.style.color="#e4e4e4"):(this.$refs.loginBtn.style.background="#F8D658",this.$refs.loginBtn.style.color="black")}},props:{logo:{type:String,default:"http://eb118-file.cdn.bcebos.com/upload/51C26083C8431427BA339DE3844FE576?x-bce-process=style/wm_ai"},user:{type:String,default:"App"}},components:{Timer:b},mounted(){document.title="验证码登录",p().subscribe("timeout",(function(){this.haveGotCode=!1}))}},k=y,_=(0,m.Z)(k,a,r,!1,null,"154ca1ba",null),x=_.exports,C={data(){return{isShow:!1}},components:{Login:x,Timer:b}},P=C,Z=(0,m.Z)(P,o,s,!1,null,"7fabe330",null),w=Z.exports,T={install(e){e.filter("myslice",(function(e){return"myfilter"})),e.mixin({data(){return{}},methods:{}}),e.directive("mydirectives",{bind(e,t,i){},inserted(e,t,i){},update(e,t,i,n){},componentUpdated(e,t,i){},unbind(e,t,i){}}),e.prototype.hello=function(){alert("hello")}}},L=i(390),B=i.n(L),W=i(822);n.ZP.use(W.ZP);const O={},A={},N={},j={};var F=new W.ZP.Store({actions:O,mutations:A,getters:N,state:j});i(552);const G={data(){return{address:"hz"}}};n.ZP.use(T),n.ZP.config.productionTip=!1,n.ZP.mixin(G),new n.ZP({render:e=>e(w),store:F,router:B()}).$mount("#app")},390:function(){}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=e,function(){var e=[];i.O=function(t,n,o,s){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],s=e[d][2];for(var r=!0,c=0;c<n.length;c++)(!1&s||a>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(r=!1,s<a&&(a=s));if(r){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,o,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,a=n[0],r=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(c)var d=c(i)}for(t&&t(n);l<a.length;l++)s=a[l],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(d)},n=self["webpackChunklonghubang"]=self["webpackChunklonghubang"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(576)}));n=i.O(n)})();
//# sourceMappingURL=app.4beb8b74.js.map